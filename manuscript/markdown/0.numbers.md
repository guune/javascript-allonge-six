# 풍부한 향: 기본 숫자

![Mathematics and Coffee](../images/expressions-title.jpg)

> 컴퓨터 과학에서 리터럴(literal)은 소스 코드에서 고정된 값을 나타내는 표기법입니다. 거의 모든 프로그래밍 언어에는 정수, 부동 소수점 숫자, 문자열과 같은 원자 값에 대한 표기법이 있으며, 일반적으로 불리언과 문자도 포함됩니다. 일부 언어는 열거형 타입과 배열, 레코드, 객체와 같은 복합 값에 대한 표기법도 제공합니다. 익명 함수는 함수 타입의 리터럴입니다.—[Wikipedia](https://en.wikipedia.org/wiki/Literal_(computer_programming))

자바스크립트는 대부분의 언어와 마찬가지로 리터럴을 지원합니다. 숫자로만 이루어진 표현식, 예를 들어 42는 리터럴입니다. 이 값은 십진수로 42를 나타냅니다. 모든 숫자가 십진수는 아닙니다. 만약 리터럴이 0으로 시작한다면, 이것은 8진수 리터럴입니다. 따라서 리터럴 042는 8진수로 42이며, 이것은 실제로 십진수로는 34에 해당합니다.

내부적으로는 042와 34가 모두 배정밀도 부동소수점 숫자로 동일하게 표현됩니다. 숫자의 컴퓨터 내부 표현 방식을 이해하는 것은 중요합니다. 컴퓨터의 숫자 표현 방식은 우리가 이해하는 방식과 거의 일치하지 않기 때문에, 컴퓨터가 "내부적으로" 무엇을 하는지에 대해 조금이라도 모른다면 컴퓨터의 행동에 놀랄 수 있는 상황이 발생할 수 있습니다.

예를 들어, 자바스크립트가 안전하게 처리할 수 있는 가장 큰 정수는 9007199254740991, 즉 2^53 - 1입니다. 대부분의 프로그래밍 언어와 마찬가지로 자바스크립트는 숫자 그룹을 구분하는 쉼표를 허용하지 않습니다.

### 부동소수점

대부분의 프로그래머는 정수 크기 제한에 직면하지 않습니다. 하지만 숫자가 부동소수점으로 내부적으로 표현된다고 언급했듯이, 숫자는 정수에만 국한되지 않습니다. 예를 들어, 우리는 1.5나 33.33을 작성할 수 있으며, 자바스크립트는 이 리터럴을 부동소수점 숫자로 표현합니다.

우리가 금액을 처리하는 데 필요한 모든 것을 갖췄다고 생각하기 쉽지만, 고(故) 존 벨루시가 말하듯, "아니오, 아니오, 아니오!" 컴퓨터의 부동소수점 숫자 내부 표현은 이진법이고, 우리의 리터럴 숫자는 십진법이라는 차이 때문에 문제가 발생할 수 있습니다. 정수에는 별 차이가 없지만, 소수에는 차이가 발생합니다. 그 이유는 일부 십진법 소수는 이진법으로 정확하게 표현되지 않기 때문입니다.

가장 자주 반복되는 예시 중 하나는 다음과 같습니다:

    1.0
      //=> 1
    1.0 + 1.0
      //=> 2
    1.0 + 1.0 + 1.0
      //=> 3

However:

    0.1
      //=> 0.1
    0.1 + 0.1
      //=> 0.2
    0.1 + 0.1 + 0.1
      //=> 0.30000000000000004
      
이러한 "부정확성"은 허용 가능한 편차가 있는 계산을 수행할 때 무시할 수 있습니다. 예를 들어, 페이지에서 텍스트를 중앙에 배치할 때 자바스크립트의 계산과 수작업 계산의 차이가 1픽셀 이하라면, 눈에 띄는 오류는 없습니다.

하지만 일반적으로 실제 숫자를 다룰 때는 IEEE 부동소수점 표준을 이해하는 것이 좋습니다. 전문 프로그래머는 거의 부동소수점 숫자를 사용하여 금액을 표현하지 않습니다. 예를 들어, "$43.21"은 거의 항상 43(달러)과 21(센트)로 두 숫자로 표현되며, 43.21로 표현되지 않습니다. 이 책에서는 이러한 세부 사항을 고려하지 않아도 되지만, 이 책을 벗어난 실제 상황에서는 반드시 고려해야 합니다.

[IEEE754]: https://en.wikipedia.org/wiki/IEEE_floating_point

### 숫자에 대한 연산

앞서 보았듯이, 자바스크립트에는 많은 일반적인 산술 연산자가 있습니다. 1 + 1, 2 * 3, 42 - 34, 또는 6 / 2와 같은 수학적 표현을 만들 수 있습니다. 이러한 표현을 결합하여 2 * 5 + 1과 같은 복잡한 표현도 만들 수 있습니다.

자바스크립트에서 연산자는 일반적으로 사람이 산술을 처리하는 방식을 모방한 우선 순위 순서로 평가됩니다. 예를 들어:

    2 * 5 + 1
      //=> 11
    1 + 5 * 2
      //=> 11
      
자바스크립트는 우리가 (2 * 5) + 1과 1 + (5 * 2)를 작성한 것처럼 표현식을 처리합니다. 이는 * 연산자가 + 연산자보다 높은 우선순위를 가지기 때문입니다. 자바스크립트에는 훨씬 더 많은 연산자가 있습니다. 일종의 작은 함수처럼 동작합니다. 만약 1 + 2를 작성한다면, 이는 개념적으로 plus(1, 2)를 작성한 것과 유사합니다(물론, 두 숫자를 더하는 함수가 plus라는 이름으로 정의되어 있다고 가정할 때).

일반적인 +, -, *, / 외에도 자바스크립트는 나머지를 구하는 % 연산자와 단항 부정 연산자인 -도 지원합니다:

    -(457 % 3)
      //=> -1

이 외에도 숫자에 사용할 수 있는 연산자가 많습니다. 비트 단위 연산자 |와 &는 숫자의 이진 표현을 직접 조작할 수 있으며, 할당 또는 논리적 비교를 수행하는 다른 많은 연산자도 있습니다.
